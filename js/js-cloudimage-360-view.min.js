/*!
 * 
 *  js-cloudimage-360-view v2.6.0
 *  https://github.com/scaleflex/js-cloudimage-360-view
 * 
 *  Copyright (c) 2019 scaleflex
 *  Released under the MIT license
 * 
 *  Date: 2021-10-12T07:43:12.040Z
 * 
*/!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=43)}([function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i(48))},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(31),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(n(t),e)}},function(t,e,i){var n=i(2);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){var n=i(1);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},function(t,e,i){var n=i(0),o=i(30),r=i(3),s=i(32),a=i(27),c=i(26),l=o("wks"),h=n.Symbol,u=c?h:h&&h.withoutSetter||s;t.exports=function(t){return r(l,t)&&(a||"string"==typeof l[t])||(a&&r(h,t)?l[t]=h[t]:l[t]=u("Symbol."+t)),l[t]}},function(t,e,i){var n=i(0),o=i(1),r=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(n[t]):n[t]&&n[t][e]}},function(t,e,i){var n=i(4),o=i(33),r=i(9),s=i(24),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(r(t),e=s(e),r(i),o)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(5);t.exports=function(t){if(n(t))return t;throw TypeError(String(t)+" is not an object")}},function(t,e,i){var n=i(0),o=i(20).f,r=i(15),s=i(56),a=i(14),c=i(60),l=i(66);t.exports=function(t,e){var i,h,u,d,f,v=t.target,m=t.global,p=t.stat;if(i=m?n:p?n[v]||a(v,{}):(n[v]||{}).prototype)for(h in e){if(d=e[h],u=t.noTargetGet?(f=o(i,h))&&f.value:i[h],!l(m?h:v+(p?".":"#")+h,t.forced)&&void 0!==u){if(typeof d==typeof u)continue;c(d,u)}(t.sham||u&&u.sham)&&r(d,"sham",!0),s(i,h,d,t)}}},function(t,e,i){var n=i(22),o=i(23);t.exports=function(t){return n(o(t))}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(0),o=i(14),r=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=r},function(t,e,i){var n=i(0);t.exports=function(t,e){try{Object.defineProperty(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(4),o=i(8),r=i(21);t.exports=n?function(t,e,i){return o.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(1),o=i(13),r=Function.toString;n(o.inspectSource)||(o.inspectSource=function(t){return r.call(t)}),t.exports=o.inspectSource},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){var n=i(0),o=i(41),r=Function.call;t.exports=function(t,e,i){return o(r,n[t].prototype[e],i)}},function(t,e,i){var n=i(4),o=i(49),r=i(21),s=i(11),a=i(24),c=i(3),l=i(33),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=s(t),e=a(e),l)try{return h(t,e)}catch(t){}if(c(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(2),o=i(12),r="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?r.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var n=i(50),o=i(25);t.exports=function(t){var e=n(t,"string");return o(e)?e:String(e)}},function(t,e,i){var n=i(1),o=i(7),r=i(26);t.exports=r?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return n(e)&&Object(t)instanceof e}},function(t,e,i){var n=i(27);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,i){var n=i(28),o=i(2);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(t,e,i){var n,o,r=i(0),s=i(51),a=r.process,c=r.Deno,l=a&&a.versions||c&&c.version,h=l&&l.v8;h?o=(n=h.split("."))[0]<4?1:n[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=n[1]),t.exports=o&&+o},function(t,e,i){var n=i(1),o=i(53);t.exports=function(t){if(n(t))return t;throw TypeError(o(t)+" is not a function")}},function(t,e,i){var n=i(55),o=i(13);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.2",mode:n?"pure":"global",copyright:"ﾂｩ 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(23);t.exports=function(t){return Object(n(t))}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){var n=i(4),o=i(2),r=i(34);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(0),o=i(5),r=n.document,s=o(r)&&o(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,i){var n=i(30),o=i(32),r=n("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,i){var n=i(3),o=i(11),r=i(37).indexOf,s=i(17);t.exports=function(t,e){var i,a=o(t),c=0,l=[];for(i in a)!n(s,i)&&n(a,i)&&l.push(i);for(;e.length>c;)n(a,i=e[c++])&&(~r(l,i)||l.push(i));return l}},function(t,e,i){var n=i(11),o=i(63),r=i(39),s=function(t){return function(e,i,s){var a,c=n(e),l=r(c),h=o(s,l);if(t&&i!=i){for(;l>h;)if((a=c[h++])!=a)return!0}else for(;l>h;h++)if((t||h in c)&&c[h]===i)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?n:i)(e)}},function(t,e,i){var n=i(64);t.exports=function(t){return n(t.length)}},function(t,e,i){var n=i(41),o=i(22),r=i(31),s=i(39),a=i(68),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,h=4==t,u=6==t,d=7==t,f=5==t||u;return function(v,m,p,g){for(var y,I,w=r(v),b=o(w),x=n(m,p,3),S=s(b),O=0,E=g||a,C=e?E(v,S):i||d?E(v,0):void 0;S>O;O++)if((f||O in b)&&(I=x(y=b[O],O,w),t))if(e)C[O]=I;else if(I)switch(t){case 3:return!0;case 5:return y;case 6:return O;case 2:c.call(C,y)}else switch(t){case 4:return!1;case 7:c.call(C,y)}return u?-1:l||h?h:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(t,e,i){var n=i(29);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TO_START_POINTER_ZOOM={SCROLL_TO_START:"scroll",CLICK_TO_START:"click"},e.MOUSE_LEAVE_ACTIONS={RESET_ZOOM:"resetZoom"},e.ORIENTATIONS={X:"x-axis",Y:"y-axis",CENTER:"center"},e.AUTOPLAY_BEHAVIOR={SPIN_X:"spin-x",SPIN_Y:"spin-y",SPIN_XY:"spin-xy",SPIN_YX:"spin-yx"}},function(t,e,i){"use strict";i(44),i(75),i(80);var n,o=i(89),r=(n=o)&&n.__esModule?n:{default:n};function s(){var t=[],e=document.querySelectorAll(".cloudimage-360:not(.initialized)");[].slice.call(e).forEach((function(e){t.push(new r.default(e))})),window.CI360._viewers=t}function a(){return!(window.CI360._viewers&&window.CI360._viewers.length>0)}window.CI360=window.CI360||{},window.CI360.init=s,window.CI360.destroy=function(){a()||(window.CI360._viewers.forEach((function(t){t.closeMagnifier(),t.destroy()})),window.CI360._viewers=[])},window.CI360.getActiveIndexByID=function(t){if(!a()){var e=window.CI360._viewers.filter((function(e){return e.id===t}))[0];return e&&e.activeImage-1}},window.CI360.notInitOnLoad||s()},function(t,e,i){var n=i(45);t.exports=n},function(t,e,i){var n=i(46);t.exports=n},function(t,e,i){i(47);var n=i(19);t.exports=n("Array","forEach")},function(t,e,i){"use strict";var n=i(10),o=i(67);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},function(t,e,i){var n=i(5),o=i(25),r=i(52),s=i(54),a=i(6)("toPrimitive");t.exports=function(t,e){if(!n(t)||o(t))return t;var i,c=r(t,a);if(c){if(void 0===e&&(e="default"),i=c.call(t,e),!n(i)||o(i))return i;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},function(t,e,i){var n=i(7);t.exports=n("navigator","userAgent")||""},function(t,e,i){var n=i(29);t.exports=function(t,e){var i=t[e];return null==i?void 0:n(i)}},function(t,e){t.exports=function(t){try{return String(t)}catch(t){return"Object"}}},function(t,e,i){var n=i(1),o=i(5);t.exports=function(t,e){var i,r;if("string"===e&&n(i=t.toString)&&!o(r=i.call(t)))return r;if(n(i=t.valueOf)&&!o(r=i.call(t)))return r;if("string"!==e&&n(i=t.toString)&&!o(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,i){var n=i(0),o=i(1),r=i(3),s=i(15),a=i(14),c=i(16),l=i(57),h=i(59).CONFIGURABLE,u=l.get,d=l.enforce,f=String(String).split("String");(t.exports=function(t,e,i,c){var l,u=!!c&&!!c.unsafe,v=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,p=c&&void 0!==c.name?c.name:e;o(i)&&("Symbol("===String(p).slice(0,7)&&(p="["+String(p).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!r(i,"name")||h&&i.name!==p)&&s(i,"name",p),(l=d(i)).source||(l.source=f.join("string"==typeof p?p:""))),t!==n?(u?!m&&t[e]&&(v=!0):delete t[e],v?t[e]=i:s(t,e,i)):v?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return o(this)&&u(this).source||c(this)}))},function(t,e,i){var n,o,r,s=i(58),a=i(0),c=i(5),l=i(15),h=i(3),u=i(13),d=i(35),f=i(17),v=a.WeakMap;if(s||u.state){var m=u.state||(u.state=new v),p=m.get,g=m.has,y=m.set;n=function(t,e){if(g.call(m,t))throw new TypeError("Object already initialized");return e.facade=t,y.call(m,t,e),e},o=function(t){return p.call(m,t)||{}},r=function(t){return g.call(m,t)}}else{var I=d("state");f[I]=!0,n=function(t,e){if(h(t,I))throw new TypeError("Object already initialized");return e.facade=t,l(t,I,e),e},o=function(t){return h(t,I)?t[I]:{}},r=function(t){return h(t,I)}}t.exports={set:n,get:o,has:r,enforce:function(t){return r(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!c(e)||(i=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var n=i(0),o=i(1),r=i(16),s=n.WeakMap;t.exports=o(s)&&/native code/.test(r(s))},function(t,e,i){var n=i(4),o=i(3),r=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(r,"name"),c=a&&"something"===function(){}.name,l=a&&(!n||n&&s(r,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},function(t,e,i){var n=i(3),o=i(61),r=i(20),s=i(8);t.exports=function(t,e){for(var i=o(e),a=s.f,c=r.f,l=0;l<i.length;l++){var h=i[l];n(t,h)||a(t,h,c(e,h))}}},function(t,e,i){var n=i(7),o=i(62),r=i(65),s=i(9);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(36),o=i(18).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(38),o=Math.max,r=Math.min;t.exports=function(t,e){var i=n(t);return i<0?o(i+e,0):r(i,e)}},function(t,e,i){var n=i(38),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(2),o=i(1),r=/#|\.prototype\./,s=function(t,e){var i=c[a(t)];return i==h||i!=l&&(o(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(r,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",h=s.POLYFILL="P";t.exports=s},function(t,e,i){"use strict";var n=i(40).forEach,o=i(74)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,i){var n=i(69);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},function(t,e,i){var n=i(70),o=i(71),r=i(5),s=i(6)("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,(o(e)&&(e===Array||n(e.prototype))||r(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){var n=i(12);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(2),o=i(1),r=i(72),s=i(7),a=i(16),c=[],l=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,u=h.exec,d=!h.exec((function(){})),f=function(t){if(!o(t))return!1;try{return l(Object,c,t),!0}catch(t){return!1}};t.exports=!l||n((function(){var t;return f(f.call)||!f(Object)||!f((function(){t=!0}))||t}))?function(t){if(!o(t))return!1;switch(r(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return d||!!u.call(h,a(t))}:f},function(t,e,i){var n=i(73),o=i(1),r=i(12),s=i(6)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?i:a?r(e):"Object"==(n=r(e))&&o(e.callee)?"Arguments":n}},function(t,e,i){var n={};n[i(6)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,i){"use strict";var n=i(2);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e,i){var n=i(76);t.exports=n},function(t,e,i){var n=i(77);t.exports=n},function(t,e,i){i(78);var n=i(19);t.exports=n("Array","filter")},function(t,e,i){"use strict";var n=i(10),o=i(40).filter;n({target:"Array",proto:!0,forced:!i(79)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2),o=i(6),r=i(28),s=o("species");t.exports=function(t){return r>=51||!n((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,i){var n=i(81);t.exports=n},function(t,e,i){var n=i(82);t.exports=n},function(t,e,i){i(83);var n=i(19);t.exports=n("Array","includes")},function(t,e,i){"use strict";var n=i(10),o=i(37).includes,r=i(84);n({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},function(t,e,i){var n=i(6),o=i(85),r=i(8),s=n("unscopables"),a=Array.prototype;null==a[s]&&r.f(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,i){var n,o=i(9),r=i(86),s=i(18),a=i(17),c=i(88),l=i(34),h=i(35),u=h("IE_PROTO"),d=function(){},f=function(t){return"<script>"+t+"<\/script>"},v=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;m="undefined"!=typeof document?document.domain&&n?v(n):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):v(n);for(var i=s.length;i--;)delete m.prototype[s[i]];return m()};a[u]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(d.prototype=o(t),i=new d,d.prototype=null,i[u]=t):i=m(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(4),o=i(8),r=i(9),s=i(87);t.exports=n?Object.defineProperties:function(t,e){r(t);for(var i,n=s(e),a=n.length,c=0;a>c;)o.f(t,i=n[c++],e[i]);return t}},function(t,e,i){var n=i(36),o=i(18);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var n=i(7);t.exports=n("document","documentElement")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(90),s=i(42);function a(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}i(91);var c=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.movementStart={x:0,y:0},this.isStartSpin=!1,this.movingDirection=s.ORIENTATIONS.CENTER,this.isClicked=!1,this.loadedImagesX=0,this.loadedImagesY=0,this.imagesLoaded=!1,this.reversed=!1,this.fullscreenView=!!i,this.ratio=n,this.imagesX=[],this.imagesY=[],this.originalImagesX=[],this.originalImagesY=[],this.devicePixelRatio=Math.round(window.devicePixelRatio||1),this.isMobile=!(!("ontouchstart"in window)&&!navigator.msMaxTouchPoints),this.id=e.id,this.init(e),this.clickedToZoom=!1,this.isMagnifyOpen=!1,this.startPointerZoom=!1,this.zoomIntensity=0,this.mouseTracked=!1,this.intialPositions={x:0,y:0},this.pointerCurrentPosition={x:0,y:0},this.startPinchZoom=!1,this.prevDistanceBetweenFingers=0}return o(t,[{key:"mouseDown",value:function(t){t.preventDefault();var e=t.pageX,i=t.pageY;this.imagesLoaded&&(this.hideInitialIcons(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1),this.intialPositions={x:e,y:i},this.movementStart={x:e,y:i},this.isClicked=!0,this.clickedToZoom=!0,this.container.style.cursor="grabbing")}},{key:"mouseUp",value:function(){this.imagesLoaded&&this.isClicked&&(this.movementStart={x:0,y:0},this.isStartSpin=!1,this.isClicked=!1,this.container.style.cursor="grab",this.bottomCircle&&!this.zoomIntensity&&this.show360ViewCircleIcon())}},{key:"mouseMove",value:function(t){if(this.imagesLoaded){var e=t.pageX,i=t.pageY;if(this.mouseTracked&&this.setCursorPosition(t),this.isClicked){var n={x:e,y:i};this.updateMovingDirection(this.intialPositions,n),this.onMoveHandler(t)}else this.zoomIntensity&&this.update()}}},{key:"updateMovingDirection",value:function(t,e){if(!this.isStartSpin){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);i>10&&(this.movingDirection=s.ORIENTATIONS.X),n>10&&this.allowSpinY&&(this.movingDirection=s.ORIENTATIONS.Y)}}},{key:"mouseScroll",value:function(t){if(!this.disablePointerZoom&&!this.isMagnifyOpen){var e=this.toStartPointerZoom===s.TO_START_POINTER_ZOOM.CLICK_TO_START&&this.clickedToZoom,i=this.toStartPointerZoom===s.TO_START_POINTER_ZOOM.SCROLL_TO_START;(e||i)&&this.initMouseScrollZoom(t)}}},{key:"touchStart",value:function(t){this.imagesLoaded&&(!this.disablePinchZoom&&(0,r.isTwoFingers)(t)&&!this.isMagnifyOpen&&this.initAndSetPinchZoom(t),this.hideInitialIcons(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1),this.intialPositions={x:t.touches[0].clientX,y:t.touches[0].clientY},this.movementStart={x:t.touches[0].clientX,y:t.touches[0].clientY},this.isClicked=!0)}},{key:"touchEnd",value:function(){this.imagesLoaded&&(this.zoomIntensity&&this.resetZoom(),this.movementStart={x:0,y:0},this.isStartSpin=!1,this.isClicked=!1,this.bottomCircle&&this.show360ViewCircleIcon())}},{key:"touchMove",value:function(t){if(this.isClicked&&this.imagesLoaded)if(!this.disablePinchZoom&&(0,r.isTwoFingers)(t))this.fingersPinchZoom(t);else{var e={x:t.touches[0].clientX,y:t.touches[0].clientY};this.updateMovingDirection(this.intialPositions,e),this.onMoveHandler(t)}}},{key:"keyDownGeneral",value:function(){this.imagesLoaded&&this.glass&&this.closeMagnifier()}},{key:"hideInitialIcons",value:function(){this.glass&&this.closeMagnifier(),this.view360Icon&&this.remove360ViewIcon()}},{key:"initMouseScrollZoom",value:function(t){this.bottomCircle&&this.hide360ViewCircleIcon(),this.hideInitialIcons(),this.mouseTracked=!0,this.setCursorPosition(t),this.mouseScrollZoom(t)}},{key:"setCursorPosition",value:function(t){this.mousePositions={x:t.clientX,y:t.clientY}}},{key:"getCursorPositionInCanvas",value:function(){var t=this.canvas.getBoundingClientRect();return this.pointerCurrentPosition={x:this.mousePositions.x-t.left,y:this.mousePositions.y-t.top},this.pointerCurrentPosition}},{key:"mouseScrollZoom",value:function(t){t.preventDefault(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1);var e=(0,r.normalizeZoomFactor)(t,this.pointerZoomFactor),i=(0,r.getMaxZoomIntensity)(this.canvas.width,this.maxScale);this.startPointerZoom=!0,this.zoomIntensity+=t.deltaY*e,this.zoomIntensity=Math.min(Math.max(0,this.zoomIntensity),i),this.zoomIntensity?this.resetZoomIcon&&this.showResetZoomIcon():(this.resetZoomIcon&&this.hideResetZoomIcon(),this.bottomCircle&&this.show360ViewCircleIcon(),this.startPointerZoom=!1,this.mouseTracked=!1),this.update()}},{key:"initAndSetPinchZoom",value:function(t){this.bottomCircle&&this.hide360ViewCircleIcon();var e=this.getFingersPosition(t),i=n(e,2),o=i[0],r=i[1];this.prevDistanceBetweenFingers=this.getDistanceBetweenFingers(o,r)}},{key:"getDistanceBetweenFingers",value:function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}},{key:"updateAveragePositionBetweenFingers",value:function(t,e){var i=this.canvas.getBoundingClientRect(),n=i.left,o=i.top;this.pointerCurrentPosition.x=(t.x+e.x)/2-n,this.pointerCurrentPosition.y=(t.y+e.y)/2-o}},{key:"getFingersPosition",value:function(t){var e=t.targetTouches[0],i=t.targetTouches[1];return[{x:e.clientX,y:e.clientY},{x:i.clientX,y:i.clientY}]}},{key:"fingersPinchZoom",value:function(t){var e=this.getFingersPosition(t),i=n(e,2),o=i[0],s=i[1],a=this.getDistanceBetweenFingers(o,s),c=30*this.pinchZoomFactor,l=a>this.prevDistanceBetweenFingers+1.5,h=a+1.5<this.prevDistanceBetweenFingers,u=(0,r.getMaxZoomIntensity)(this.canvas.width,this.maxScale);this.startPinchZoom=!0,this.updateAveragePositionBetweenFingers(o,s),l&&this.zoomIntensity<=u?this.zoomIntensity+=c:h&&this.zoomIntensity>=c&&(this.zoomIntensity-=c),this.update(),this.prevDistanceBetweenFingers=a}},{key:"resetZoom",value:function(){this.startPointerZoom=!1,this.startPinchZoom=!1,this.mouseTracked=!1,this.clickedToZoom=!1,this.resetZoomIcon&&this.hideResetZoomIcon(),this.zoomIntensity&&(this.zoomIntensity=0,this.update())}},{key:"keyDown",value:function(t){this.imagesLoaded&&(this.glass&&this.closeMagnifier(),-1!==[37,39].indexOf(t.keyCode)&&(37===t.keyCode?this.reversed?this.left():this.right():39===t.keyCode&&(this.reversed?this.right():this.left()),this.onSpin()))}},{key:"onSpin",value:function(){this.bottomCircle&&this.hide360ViewCircleIcon(),this.view360Icon&&this.remove360ViewIcon(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1)}},{key:"keyUp",value:function(t){this.imagesLoaded&&-1!==[37,39].indexOf(t.keyCode)&&this.onFinishSpin()}},{key:"onFinishSpin",value:function(){this.bottomCircle&&this.show360ViewCircleIcon()}},{key:"onMoveHandler",value:function(t){var e=this.isMobile?t.touches[0].clientX:t.pageX,i=this.isMobile?t.touches[0].clientY:t.pageY,n=e-this.movementStart.x>=this.speedFactor,o=this.movementStart.x-e>=this.speedFactor,r=this.movementStart.y-i>=this.speedFactor,a=i-this.movementStart.y>=this.speedFactor;this.bottomCircle&&this.hide360ViewCircleIcon(),n&&this.movingDirection===s.ORIENTATIONS.X?(this.moveRight(e),this.isStartSpin=!0):o&&this.movingDirection===s.ORIENTATIONS.X?(this.moveLeft(e),this.isStartSpin=!0):r&&this.movingDirection===s.ORIENTATIONS.Y?(this.moveTop(i),this.isStartSpin=!0):a&&this.movingDirection===s.ORIENTATIONS.Y&&(this.moveBottom(i),this.isStartSpin=!0)}},{key:"moveRight",value:function(t){var e=Math.floor((t-this.movementStart.x)/this.speedFactor)||1;this.spinReverse?this.moveActiveIndexDown(e):this.moveActiveIndexUp(e),this.movementStart.x=t,this.activeImageY=1,this.update()}},{key:"moveLeft",value:function(t){var e=Math.floor((this.movementStart.x-t)/this.speedFactor)||1;this.spinReverse?this.moveActiveIndexUp(e):this.moveActiveIndexDown(e),this.activeImageY=1,this.movementStart.x=t,this.update()}},{key:"moveTop",value:function(t){var e=Math.floor((this.movementStart.y-t)/this.speedFactor)||1;this.spinReverse?this.moveActiveYIndexUp(e):this.moveActiveYIndexDown(e),this.activeImageX=1,this.movementStart.y=t,this.update()}},{key:"moveBottom",value:function(t){var e=Math.floor((t-this.movementStart.y)/this.speedFactor)||1;this.spinReverse?this.moveActiveYIndexDown(e):this.moveActiveYIndexUp(e),this.activeImageX=1,this.movementStart.y=t,this.update()}},{key:"moveActiveIndexUp",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageX+t>=this.amountX?(this.activeImageX=this.amountX,(e?this.prevElem:this.rightElem)&&(0,r.addClass)(this.leftElem,"not-active")):(this.activeImageX+=t,this.rightElem&&(0,r.removeClass)(this.rightElem,"not-active"),this.leftElem&&(0,r.removeClass)(this.leftElem,"not-active")):(this.activeImageX=(this.activeImageX+t)%this.amountX||this.amountX,this.activeImageX===this.amountX&&this.allowSpinY&&(this.spinY=!0))}},{key:"moveActiveIndexDown",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageX-t<=1?(this.activeImageX=1,(e?this.rightElem:this.leftElem)&&(0,r.addClass)(e?this.rightElem:this.leftElem,"not-active")):(this.activeImageX-=t,this.leftElem&&(0,r.removeClass)(this.leftElem,"not-active"),this.rightElem&&(0,r.removeClass)(this.rightElem,"not-active")):this.activeImageX-t<1?(this.activeImageX=this.amountX+(this.activeImageX-t),this.spinY=!0):this.activeImageX-=t}},{key:"moveActiveYIndexUp",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageY+t>=this.amountY?(this.activeImageY=this.amountY,(e?this.bottomElem:this.topElem)&&(0,r.addClass)(e?this.bottomElem:this.topElem,"not-active")):(this.activeImageY+=t,this.topElem&&(0,r.removeClass)(this.topElem,"not-active"),this.bottomElem&&(0,r.removeClass)(this.bottomElem,"not-active")):(this.activeImageY=(this.activeImageY+t)%this.amountY||this.amountY,this.activeImageY===this.amountY&&(this.spinY=!1))}},{key:"moveActiveYIndexDown",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageY-t<=1?(this.activeImageY=1,(e?this.topElem:this.bottomElem)&&(0,r.addClass)(e?this.topElem:this.bottomElem,"not-active")):(this.activeImageY-=t,this.bottomElem&&(0,r.removeClass)(this.bottomElem,"not-active"),this.topElem&&(0,r.removeClass)(this.topElem,"not-active")):this.activeImageY-t<1?(this.activeImageY=this.amountY+(this.activeImageY-t),this.spinY=!1):this.activeImageY-=t}},{key:"loop",value:function(t){switch(this.autoplayBehavior){case s.AUTOPLAY_BEHAVIOR.SPIN_Y:t?this.bottom():this.top();break;case s.AUTOPLAY_BEHAVIOR.SPIN_XY:case s.AUTOPLAY_BEHAVIOR.SPIN_YX:this.spinY?t?this.bottom():this.top():t?this.left():this.right();break;case s.AUTOPLAY_BEHAVIOR.SPIN_X:default:t?this.left():this.right()}}},{key:"right",value:function(){this.movingDirection=s.ORIENTATIONS.X,this.activeImageY=this.reversed?this.amountY:1,this.moveActiveIndexUp(1),this.update()}},{key:"left",value:function(){this.movingDirection=s.ORIENTATIONS.X,this.activeImageY=this.reversed?this.amountY:1,this.moveActiveIndexDown(1),this.update()}},{key:"top",value:function(){this.movingDirection=s.ORIENTATIONS.Y,this.activeImageX=this.reversed?this.amountX:1,this.moveActiveYIndexUp(1),this.update()}},{key:"bottom",value:function(){this.movingDirection=s.ORIENTATIONS.Y,this.activeImageX=this.reversed?this.amountX:1,this.moveActiveYIndexDown(1),this.update()}},{key:"update",value:function(){var t=this.imagesX[this.activeImageX-1];this.movingDirection===s.ORIENTATIONS.Y&&(t=this.imagesY[this.activeImageY-1]);var e=this.canvas.getContext("2d");if(e.scale(this.devicePixelRatio,this.devicePixelRatio),this.fullscreenView){this.canvas.width=window.innerWidth*this.devicePixelRatio,this.canvas.style.width=window.innerWidth+"px",this.canvas.height=window.innerHeight*this.devicePixelRatio,this.canvas.style.height=window.innerHeight+"px";var i=(0,r.contain)(this.canvas.width,this.canvas.height,t.width,t.height),n=i.offsetX,o=i.offsetY,a=i.width,c=i.height;e.drawImage(t,n,o,a,c)}else this.canvas.width=this.container.offsetWidth*this.devicePixelRatio,this.canvas.style.width=this.container.offsetWidth+"px",this.canvas.height=this.container.offsetWidth*this.devicePixelRatio/t.width*t.height,this.canvas.style.height=this.container.offsetWidth/t.width*t.height+"px",this.startPointerZoom||this.startPinchZoom?this.updateImageScale(e):e.drawImage(t,0,0,this.canvas.width,this.canvas.height)}},{key:"updateImageScale",value:function(t){var e=this.originalImagesX[this.activeImageX-1];this.movingDirection===s.ORIENTATIONS.Y&&(e=this.originalImagesY[this.activeImageY-1]);var i=this.pointerCurrentPosition;this.startPointerZoom&&(i=this.getCursorPositionInCanvas());var n=this.canvas.width/this.devicePixelRatio,o=this.canvas.height/this.devicePixelRatio,r=this.canvas.width+this.zoomIntensity*(this.canvas.width/this.canvas.height),a=this.canvas.height+this.zoomIntensity,c=0-i.x/n*(r-this.canvas.width),l=0-i.y/o*(a-this.canvas.height);t.drawImage(e,c,l,r,a)}},{key:"updatePercentageInLoader",value:function(t){this.loader&&(this.loader.style.width=t+"%"),this.view360Icon&&(this.view360Icon.innerText=t+"%")}},{key:"onAllImagesLoaded",value:function(){if(this.imagesLoaded=!0,this.container.style.cursor="grab",this.disableDrag&&(this.container.style.cursor="default"),this.removeLoader(),this.fullscreenView){var t=this.container.offsetHeight/this.container.offsetWidth,e=this.container.offsetWidth;this.ratio>t&&(e=this.container.offsetHeight/this.ratio),this.speedFactor=Math.floor(this.dragSpeed/150*36/this.amountX*25*e/1500)||1}else this.speedFactor=Math.floor(this.dragSpeed/150*36/this.amountX*25*this.container.offsetWidth/1500)||1;this.imageOffset&&(this.activeImageX=this.imageOffset),this.autoplay&&this.play(),this.view360Icon&&(this.view360Icon.innerText="",(0,r.setView360Icon)(this.view360Icon,this.logoSrc)),this.initControls()}},{key:"onFirstImageLoaded",value:function(t){var e=this;if(this.hide360Logo||this.add360ViewIcon(),this.fullscreenView){this.canvas.width=window.innerWidth*this.devicePixelRatio,this.canvas.style.width=window.innerWidth+"px",this.canvas.height=window.innerHeight*this.devicePixelRatio,this.canvas.style.height=window.innerHeight+"px";var i=this.canvas.getContext("2d"),n=(0,r.contain)(this.canvas.width,this.canvas.height,t.target.width,t.target.height),o=n.offsetX,s=n.offsetY,a=n.width,c=n.height;this.offset={x:o,y:s},i.drawImage(t.target,o,s,a,c)}else{var l=this.canvas.getContext("2d"),h=t.target;if(this.imageOffset&&(h=this.imagesX[this.imageOffset]),0===this.container.offsetWidth){var u=this.container.parentElement;this.canvas.width=parseInt(u.style.width)*this.devicePixelRatio,this.canvas.style.width=u.style.width,this.canvas.height=parseInt(u.style.height)*this.devicePixelRatio/t.target.width*t.target.height,this.canvas.style.height=parseInt(u.style.width)/t.target.width*t.target.height+"px"}this.container.offsetWidth>0&&(this.canvas.width=this.container.offsetWidth*this.devicePixelRatio,this.canvas.style.width=this.container.offsetWidth+"px",this.canvas.height=this.container.offsetWidth*this.devicePixelRatio/t.target.width*t.target.height,this.canvas.style.height=this.container.offsetWidth/t.target.width*t.target.height+"px"),l.drawImage(h,0,0,this.canvas.width,this.canvas.height)}this.lazyload&&!this.fullscreenView&&this.imagesX.forEach((function(t,i){0!==i?t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")):e.innerBox.removeChild(e.lazyloadInitImage)})),this.ratio&&(this.container.style.minHeight="auto"),this.fullscreenView&&this.addCloseFullscreenView(),(this.magnifier&&!this.fullscreenView||this.magnifyInFullscreen)&&this.addMagnifier(),this.boxShadow&&!this.fullscreenView&&this.addBoxShadow(),this.bottomCircle&&!this.fullscreenView&&this.add360ViewCircleIcon(),this.fullscreen&&!this.fullscreenView&&this.addFullscreenIcon(),this.isMobile||this.fullscreenView||this.disablePointerZoom||this.addResetZoomIcon()}},{key:"incrementLoadedImages",value:function(t){t===s.ORIENTATIONS.Y?this.loadedImagesY+=1:this.loadedImagesX+=1}},{key:"onImageLoad",value:function(t,e,i){this.incrementLoadedImages(e);var n=this.amountX+this.amountY,o=this.loadedImagesX+this.loadedImagesY,r=Math.round(o/n*100);this.updatePercentageInLoader(r),0===t&&e!==s.ORIENTATIONS.Y&&this.onFirstImageLoaded(i),o===n&&this.onAllImagesLoaded(i)}},{key:"addCloseFullscreenView",value:function(t){var e=document.createElement("div");e.className="cloudimage-360-close-fullscreen-icon",e.onclick=this.setFullscreenEvents.bind(this,t),window.onkeyup=this.setFullscreenEvents.bind(this,t),this.iconsContainer.appendChild(e)}},{key:"add360ViewIcon",value:function(){var t=document.createElement("div");t.className="cloudimage-360-view-360-icon",t.innerText="0%",this.view360Icon=t,this.innerBox.appendChild(t)}},{key:"addFullscreenIcon",value:function(){var t=document.createElement("div");t.className="cloudimage-360-fullscreen-icon",t.onclick=this.openFullscreenModal.bind(this),this.fullscreenIcon=t,this.iconsContainer.appendChild(t)}},{key:"hideFullscreenIcon",value:function(){this.fullscreenIcon&&(this.fullscreenIcon.style.opacity="0.4",this.fullscreenIcon.style.pointerEvents="none")}},{key:"showFullscreenIcon",value:function(){this.fullscreenIcon&&(this.fullscreenIcon.style.opacity="1",this.fullscreenIcon.style.pointerEvents="auto")}},{key:"addMagnifier",value:function(){var t=document.createElement("div");t.className="cloudimage-360-magnifier-icon",t.onclick=this.magnify.bind(this),this.magnifierIcon=t,this.iconsContainer.appendChild(t)}},{key:"disableMagnifierIcon",value:function(){this.magnifierIcon&&(this.magnifierIcon.style.opacity="0.4",this.magnifierIcon.style.pointerEvents="none")}},{key:"enableMagnifierIcon",value:function(){this.magnifierIcon&&(this.magnifierIcon.style.opacity="1",this.magnifierIcon.style.pointerEvents="auto")}},{key:"getOriginalSrc",value:function(){var t=this.imagesX[this.activeImageX-1];this.movingDirection===s.ORIENTATIONS.Y&&(t=this.imagesY[this.activeImageY-1]);var e=t.src.lastIndexOf("//");return e>10?t.src.slice(e):t.src}},{key:"magnify",value:function(){var t=this,e=new Image,i=this.getOriginalSrc();this.isMagnifyOpen=!0,e.src=i,e.onload=function(){t.glass&&(t.glass.style.cursor="none")},this.glass=document.createElement("div"),this.container.style.overflow="hidden",(0,r.magnify)(this.container,this.offset,i,this.glass,this.magnifier||3)}},{key:"closeMagnifier",value:function(){this.glass&&(this.container.style.overflow="visible",this.container.removeChild(this.glass),this.glass=null,this.isMagnifyOpen=!1)}},{key:"openFullscreenModal",value:function(){var e=document.createElement("div");e.className="cloudimage-360-fullscreen-modal";var i=this.container.cloneNode(),n=this.imagesX[0],o=n.height/n.width;i.style.height="100%",i.style.maxHeight="100%",e.appendChild(i),window.document.body.style.overflow="hidden",window.document.body.appendChild(e),new t(i,!0,o)}},{key:"setFullscreenEvents",value:function(t,e){return"click"===e.type?this.closeFullscreenModal():"Escape"===e.key?this.closeFullscreenModalOnEsc():void 0}},{key:"closeFullscreenModalOnEsc",value:function(){this.container.parentNode.parentNode===document.body&&this.closeFullscreenModal()}},{key:"closeFullscreenModal",value:function(){document.body.removeChild(this.container.parentNode),window.document.body.style.overflow="visible"}},{key:"add360ViewCircleIcon",value:function(){var t=new Image;t.src="https://scaleflex.ultrafast.io/https://scaleflex.api.airstore.io/v1/get/_/2236d56f-914a-5a8b-a3ae-f7bde1c50000/360.svg",t.style.bottom=this.bottomCircleOffset+"%",t.className="cloudimage-360-view-360-circle",this.view360CircleIcon=t,this.innerBox.appendChild(t)}},{key:"hide360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity="0")}},{key:"show360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity="1")}},{key:"remove360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.innerBox.removeChild(this.view360CircleIcon),this.view360CircleIcon=null)}},{key:"addResetZoomIcon",value:function(){var t=document.createElement("div");t.className="cloudimage-360-reset-zoom-icon",this.resetZoomIcon=t,t.onmouseenter=this.resetZoom.bind(this),this.iconsContainer.appendChild(t)}},{key:"hideResetZoomIcon",value:function(){this.resetZoomIcon&&(this.magnifierIcon&&this.enableMagnifierIcon(),this.fullscreenIcon&&this.showFullscreenIcon(),this.resetZoomIcon.style.display="none")}},{key:"showResetZoomIcon",value:function(){this.resetZoomIcon&&(this.magnifierIcon&&this.disableMagnifierIcon(),this.fullscreenIcon&&this.hideFullscreenIcon(),this.resetZoomIcon.style.display="block")}},{key:"addLoader",value:function(){var t=document.createElement("div");t.className="cloudimage-360-loader",this.loader=t,this.innerBox.appendChild(t)}},{key:"addBoxShadow",value:function(){var t=document.createElement("div");t.className="cloudimage-360-box-shadow",t.style.boxShadow=this.boxShadow,this.innerBox.appendChild(t)}},{key:"removeLoader",value:function(){this.loader&&(this.innerBox.removeChild(this.loader),this.loader=null)}},{key:"remove360ViewIcon",value:function(){this.view360Icon&&(this.innerBox.removeChild(this.view360Icon),this.view360Icon=null)}},{key:"isCompletedCyle",value:function(){switch(this.autoplayBehavior){case s.AUTOPLAY_BEHAVIOR.SPIN_XY:case s.AUTOPLAY_BEHAVIOR.SPIN_Y:return!!(this.reversed?1===this.activeImageY:this.activeImageY===this.amountY);case s.AUTOPLAY_BEHAVIOR.SPIN_X:case s.AUTOPLAY_BEHAVIOR.SPIN_YX:default:return!!(this.reversed?1===this.activeImageX:this.activeImageX===this.amountX)}}},{key:"play",value:function(){var t=this;this.bottomCircle&&this.hide360ViewCircleIcon(),this.remove360ViewIcon(),this.loopTimeoutId=window.setInterval((function(){t.loop(t.reversed);var e=t.isCompletedCyle();t.playOnce&&e&&window.clearTimeout(t.loopTimeoutId)}),this.autoplaySpeed)}},{key:"stop",value:function(){this.bottomCircle&&!this.zoomIntensity&&this.show360ViewCircleIcon(),window.clearTimeout(this.loopTimeoutId)}},{key:"getSrc",value:function(t,e,i,n,o){var s=o.ciToken,a=o.ciFilters,c=o.ciTransformation,l=""+i+n;if(t){var h=e.offsetWidth;if(this.fullscreenView){var u=e.offsetHeight/e.offsetWidth;this.ratio>u&&(h=e.offsetHeight/this.ratio)}var d=(0,r.getSizeAccordingToPixelRatio)((0,r.getResponsiveWidthOfContainer)(h));l="https://"+s+".cloudimg.io/v7/"+l+"?"+(c||"width="+d)+(a?"&f="+a:"")}return l}},{key:"preloadImages",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.ORIENTATIONS.X,n=arguments[3],o=arguments[4],c=arguments[5],l=this,h=arguments[6],u=arguments[7];if(this.imageList)try{var d=JSON.parse(this.imageList);this.amountX=d.length,d.forEach((function(t,e){var r=/(http(s?)):\/\//gi.test(t)?"":l.folder,s=l.getSrc(h,c,r,t,u),a=s.lastIndexOf("//"),d=s.slice(a);l.addImage(s,d,i,n,o,e)}))}catch(t){console.error("Wrong format in image-list attribute: "+t.message)}else[].concat(a(new Array(t))).map((function(t,s){var a=(0,r.pad)(s+1,l.indexZeroBase),c=e.replace("{index}",a),h=c.lastIndexOf("//"),u=c.slice(h);l.addImage(c,u,i,n,o,s)}))}},{key:"addImage",value:function(t,e,i,n,o,r){var a=new Image,c=new Image;n&&!this.fullscreenView?(a.setAttribute("data-src",t),a.className=a.className.length?a.className+" "+o:o,0===r&&(this.lazyloadInitImage=a,a.style.position="absolute",a.style.top="0",a.style.left="0",this.innerBox.appendChild(a))):(a.src=t,c.src=e),a.onload=this.onImageLoad.bind(this,r,i),a.onerror=this.onImageLoad.bind(this,r,i),i===s.ORIENTATIONS.Y?(this.imagesY.push(a),this.originalImagesY.push(c)):(this.imagesX.push(a),this.originalImagesX.push(c))}},{key:"destroy",value:function(){stop();var t=this.container,e=t.cloneNode(!0),i=e.querySelector(".cloudimage-360-inner-box");e.className=e.className.replace(" initialized",""),e.style.position="relative",e.style.width="100%",e.style.cursor="default",e.setAttribute("draggable","false"),e.style.minHeight="auto",e.removeChild(i),t.parentNode.replaceChild(e,t)}},{key:"initControls",value:function(){var t=this,e=this.controlReverse?!this.spinReverse:this.spinReverse,i=this.container.querySelector(".cloudimage-360-left")||this.container.querySelector(".cloudimage-360-prev"),n=this.container.querySelector(".cloudimage-360-right")||this.container.querySelector(".cloudimage-360-next"),o=this.container.querySelector(".cloudimage-360-top"),s=this.container.querySelector(".cloudimage-360-bottom");if(i||n||o||s){var a=function(e){e.stopPropagation(),t.onSpin(),t.left(),t.loopTimeoutId=window.setInterval(t.left.bind(t),t.autoplaySpeed)},c=function(e){e.stopPropagation(),t.onSpin(),t.right(),t.loopTimeoutId=window.setInterval(t.right.bind(t),t.autoplaySpeed)},l=function(e){e.stopPropagation(),t.onSpin(),t.top(),t.loopTimeoutId=window.setInterval(t.top.bind(t),t.autoplaySpeed)},h=function(e){e.stopPropagation(),t.onSpin(),t.bottom(),t.loopTimeoutId=window.setInterval(t.bottom.bind(t),t.autoplaySpeed)},u=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)},d=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)},f=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)},v=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)};i&&(i.style.display="block",i.addEventListener("mousedown",e?c:a),i.addEventListener("touchstart",e?c:a,{passive:!0}),i.addEventListener("mouseup",e?d:u),i.addEventListener("touchend",e?d:u),this.leftElem=i),n&&(n.style.display="block",n.addEventListener("mousedown",e?a:c),n.addEventListener("touchstart",e?a:c,{passive:!0}),n.addEventListener("mouseup",e?u:d),n.addEventListener("touchend",e?u:d),this.rightElem=n),o&&(o.style.display="block",o.addEventListener("mousedown",e?h:l),o.addEventListener("touchstart",e?h:l),o.addEventListener("mouseup",e?v:f),o.addEventListener("touchend",e?v:f),this.topElem=o),s&&(s.style.display="block",s.addEventListener("mousedown",e?l:h),s.addEventListener("touchstart",e?l:h),s.addEventListener("mouseup",e?f:v),s.addEventListener("touchend",e?f:v),this.bottomElem=s),(e?n:i)&&this.stopAtEdges&&(0,r.addClass)(e?n:i,"not-active")}}},{key:"addInnerBox",value:function(){this.innerBox=document.createElement("div"),this.innerBox.className="cloudimage-360-inner-box",this.container.appendChild(this.innerBox)}},{key:"addIconsContainer",value:function(){this.iconsContainer=document.createElement("div"),this.iconsContainer.className="cloudimage-360-icons-container",this.innerBox.appendChild(this.iconsContainer)}},{key:"addCanvas",value:function(){this.canvas=document.createElement("canvas"),this.canvas.style.width="100%",this.canvas.style.fontSize="0",this.ratio&&(this.container.style.minHeight=this.container.offsetWidth*this.ratio+"px",this.canvas.height=parseInt(this.container.style.minHeight)),this.innerBox.appendChild(this.canvas)}},{key:"attachEvents",value:function(t,e,i){t&&!this.disableDrag&&(this.container.addEventListener("mousedown",this.mouseDown.bind(this)),this.container.addEventListener("mousemove",this.mouseMove.bind(this)),document.addEventListener("mouseup",this.mouseUp.bind(this))),e&&!this.disableDrag&&(this.container.addEventListener("touchstart",this.touchStart.bind(this),{passive:!0}),this.container.addEventListener("touchend",this.touchEnd.bind(this)),this.container.addEventListener("touchmove",this.touchMove.bind(this),{passive:!0})),this.disablePointerZoom||this.fullscreenView||this.container.addEventListener("wheel",this.mouseScroll.bind(this)),i?(document.addEventListener("keydown",this.keyDown.bind(this)),document.addEventListener("keyup",this.keyUp.bind(this))):document.addEventListener("keydown",this.keyDownGeneral.bind(this))}},{key:"applyStylesToContainer",value:function(){this.container.style.position="relative",this.container.style.width="100%",this.container.style.cursor="wait",this.container.setAttribute("draggable","false"),this.container.className=this.container.className+" initialized"}},{key:"setMouseLeaveActions",value:function(t){var e=this;t.split(",").forEach((function(t){return e.applyMouseLeaveAction(t)}))}},{key:"applyMouseLeaveAction",value:function(t){switch(t){case s.MOUSE_LEAVE_ACTIONS.RESET_ZOOM:this.container.addEventListener("mouseleave",this.resetZoom.bind(this))}}},{key:"init",value:function(t){var e=(0,r.get360ViewProps)(t),i=e.folder,n=e.filenameX,o=e.filenameY,a=e.imageList,c=e.indexZeroBase,l=e.amountX,h=e.amountY,u=e.imageOffset,d=e.draggable,f=void 0===d||d,v=e.swipeable,m=void 0===v||v,p=e.keys,g=e.bottomCircle,y=e.bottomCircleOffset,I=e.boxShadow,w=e.autoplay,b=e.autoplayBehavior,x=e.playOnce,S=e.pointerZoomFactor,O=e.pinchZoomFactor,E=e.maxScale,C=e.toStartPointerZoom,T=e.onMouseLeave,k=e.disablePointerZoom,A=void 0===k||k,P=e.disablePinchZoom,R=void 0===P||P,L=e.speed,Y=e.autoplayReverse,N=e.disableDrag,M=void 0===N||N,F=e.fullscreen,X=e.magnifier,_=e.magnifyInFullscreen,j=e.ratio,Z=e.responsive,z=e.ciToken,B=e.ciFilters,V=e.ciTransformation,D=e.lazyload,U=e.lazySelector,H=e.spinReverse,W=e.dragSpeed,q=e.stopAtEdges,G=e.controlReverse,$=e.hide360Logo,J=e.logoSrc,K={ciToken:z,ciFilters:B,ciTransformation:V};this.addInnerBox(),this.addIconsContainer(),this.addLoader(),this.folder=i,this.filenameX=n,this.imageList=a,this.indexZeroBase=c,this.amountX=l,this.amountY=h,this.allowSpinY=!!h&&!!o,this.activeImageX=Y?l:1,this.activeImageY=Y?h:1,this.spinY=b===s.AUTOPLAY_BEHAVIOR.SPIN_YX,this.imageOffset=u,this.bottomCircle=g,this.bottomCircleOffset=y,this.boxShadow=I,this.autoplay=w,this.autoplayBehavior=b,this.playOnce=x,this.toStartPointerZoom=C,this.disablePointerZoom=A,this.disablePinchZoom=R,this.pointerZoomFactor=S,this.pinchZoomFactor=O,this.maxScale=E,this.speed=L,this.reversed=Y,this.disableDrag=M,this.fullscreen=F,this.magnifier=!(this.isMobile||!X)&&X,this.magnifyInFullscreen=_,this.lazyload=D,this.ratio=j,this.spinReverse=H,this.controlReverse=G,this.dragSpeed=W,this.autoplaySpeed=36*this.speed/this.amountX,this.stopAtEdges=q,this.hide360Logo=$,this.logoSrc=J,this.applyStylesToContainer(),this.addCanvas();var Q=this.getSrc(Z,t,i,n,K),tt=this.getSrc(Z,t,i,o,K);this.preloadImages(l,Q,s.ORIENTATIONS.X,D,U,t,Z,K),h&&this.preloadImages(h,tt,s.ORIENTATIONS.Y,D,U,t,Z,K),this.attachEvents(f,m,p),T&&this.setMouseLeaveActions(T)}}]),t}();e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeZoomFactor=e.getMaxZoomIntensity=e.isTwoFingers=e.pad=e.removeClass=e.addClass=e.contain=e.getSizeAccordingToPixelRatio=e.getResponsiveWidthOfContainer=e.magnify=e.setView360Icon=e.get360ViewProps=void 0;var n,o=i(42),r=function(t,e){var i=s(t,e),n=s(t,"data-"+e);return null!==i&&"false"!==i||null!==n&&"false"!==n},s=function(t,e){return t.getAttribute(e)},a=(n=!0,function(t,e,i,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,c=i/o,l=t/e,h=t*r,u=e*r;return(n?c>l:c<l)?u=h/c:h=u*c,{width:h,height:u,offsetX:(t-h)*s,offsetY:(e-u)*a}});e.get360ViewProps=function(t){return{folder:s(t,"folder")||s(t,"data-folder")||"/",filenameX:s(t,"filename")||s(t,"data-filename")||s(t,"filename-x")||s(t,"data-filename-x")||"image-{index}.jpg",filenameY:s(t,"filename-y")||s(t,"data-filename-y")||"image-y-{index}.jpg",imageList:s(t,"image-list")||s(t,"data-image-list")||null,indexZeroBase:parseInt(s(t,"index-zero-base")||s(t,"data-index-zero-base")||0,10),amountX:parseInt(s(t,"amount")||s(t,"data-amount")||s(t,"amount-x")||s(t,"data-amount-x")||36,10),amountY:parseInt(s(t,"amount-y")||s(t,"data-amount-y")||0,10),imageOffset:parseInt(s(t,"image-offset")||s(t,"data-image-offset")),speed:parseInt(s(t,"speed")||s(t,"data-speed")||80,10),dragSpeed:parseInt(s(t,"drag-speed")||s(t,"data-drag-speed")||150,10),keys:r(t,"keys"),boxShadow:s(t,"box-shadow")||s(t,"data-box-shadow"),autoplay:r(t,"autoplay"),autoplayBehavior:s(t,"autoplay-behavior")||s(t,"data-autoplay-behavior")||o.AUTOPLAY_BEHAVIOR.SPIN_X,playOnce:r(t,"play-once"),disablePointerZoom:r(t,"disable-pointer-zoom"),disablePinchZoom:r(t,"disable-pinch-zoom"),onMouseLeave:s(t,"on-mouse-leave")||s(t,"data-on-mouse-leave"),toStartPointerZoom:s(t,"to-start-pointer-zoom")||s(t,"data-to-start-pointer-zoom")||o.TO_START_POINTER_ZOOM.SCROLL_TO_START,pointerZoomFactor:parseInt(s(t,"pointer-zoom-factor")||s(t,"data-pointer-zoom-factor")||2,10),pinchZoomFactor:parseInt(s(t,"pinch-zoom-factor")||s(t,"data-pinch-zoom-factor")||2,10),maxScale:parseFloat(s(t,"max-scale")||s(t,"data-max-scale")||100,10),autoplayReverse:r(t,"autoplay-reverse"),bottomCircle:r(t,"bottom-circle"),disableDrag:r(t,"disable-drag"),fullscreen:r(t,"fullscreen"),magnifier:(null!==s(t,"magnifier")||null!==s(t,"data-magnifier"))&&parseInt(s(t,"magnifier")||s(t,"data-magnifier"),10),magnifyInFullscreen:r(t,"magnify-in-fullscreen"),bottomCircleOffset:parseInt(s(t,"bottom-circle-offset")||s(t,"data-bottom-circle-offset")||5,10),ratio:parseFloat(s(t,"ratio")||s(t,"data-ratio")||0)||!1,responsive:r(t,"responsive"),ciToken:s(t,"responsive")||s(t,"data-responsive")||"demo",ciFilters:s(t,"filters")||s(t,"data-filters"),ciTransformation:s(t,"transformation")||s(t,"data-transformation"),lazyload:r(t,"lazyload"),lazySelector:s(t,"lazyload-selector")||s(t,"data-lazyload-selector")||"lazyload",spinReverse:r(t,"spin-reverse"),controlReverse:r(t,"control-reverse"),stopAtEdges:r(t,"stop-at-edges"),hide360Logo:r(t,"hide-360-logo"),logoSrc:s(t,"logo-src")||"https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/360_view.svg"}},e.setView360Icon=function(t,e){t.style.background="rgba(255,255,255,0.8) url('"+e+"') 50% 50% / contain no-repeat"},e.magnify=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2],n=arguments[3],o=arguments[4],r=void 0,s=void 0,a=void 0,c=e.x,l=void 0===c?0:c,h=e.y,u=void 0===h?0:h,d=(t.offsetWidth-2*l)*o,f=(t.offsetHeight-2*u)*o;function v(e){var i,c=void 0,h=void 0;c=(i=m(e)).x,h=i.y,c>t.offsetWidth-r/o&&(c=t.offsetWidth-r/o),c<r/o&&(c=r/o),h>t.offsetHeight-s/o&&(h=t.offsetHeight-s/o),h<s/o&&(h=s/o),n.style.left=c-r+"px",n.style.top=h-s+"px";var d=(c-l)*o-r+a,f=(h-u)*o-s+a;n.style.backgroundPosition="-"+d+"px -"+f+"px"}function m(e){var i,n=0,o=0;return e=e||window.event,i=t.getBoundingClientRect(),n=e.pageX-i.left,o=e.pageY-i.top,{x:n-=window.pageXOffset,y:o-=window.pageYOffset}}n.setAttribute("class","cloudimage-360-img-magnifier-glass"),t.prepend(n),n.style.backgroundImage="url('"+i+"')",n.style.backgroundSize=d+"px "+f+"px",a=3,r=n.offsetWidth/2,s=n.offsetHeight/2,n.addEventListener("mousemove",v),t.addEventListener("mousemove",v),n.addEventListener("touchmove",v,{passive:!0}),t.addEventListener("touchmove",v,{passive:!0})},e.getResponsiveWidthOfContainer=function(t){return(e=t)<=25?"25":e<=50?"50":(100*Math.ceil(e/100)).toString();var e},e.getSizeAccordingToPixelRatio=function(t){var e=t.toString().split("x"),i=[];return[].forEach.call(e,(function(t){i.push(t*Math.round(window.devicePixelRatio||1))})),i.join("x")},e.contain=a,e.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},e.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},e.pad=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(t+="").length>=e?t:new Array(e-t.length+1).join("0")+t},e.isTwoFingers=function(t){return 2===t.targetTouches.length},e.getMaxZoomIntensity=function(t,e){return e*t-t},e.normalizeZoomFactor=function(t,e){return Math.abs(t.deltaY)<125?10*-e:-e}},function(t,e,i){var n=i(92);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(94)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(93)(!1)).push([t.i,".cloudimage-360-icons-container {\r\n  position: absolute;\r\n  display: flex;\r\n  top: 5px;\r\n  right: 5px;\r\n  width: 30px;\r\n  height: 95%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  z-index: 101;\r\n}\r\n\r\n.cloudimage-360-magnifier-icon {\r\n  width: 25px;\r\n  height: 25px;\r\n  margin-bottom: 5px;\r\n  cursor: pointer;\r\n  background: url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/loupe.svg') 50% 50% / cover no-repeat;\r\n}\r\n\r\n.cloudimage-360-fullscreen-icon {\r\n  width: 25px;\r\n  height: 25px;\r\n  margin-bottom: 5px;\r\n  cursor: pointer;\r\n  background: url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/full_screen.svg') 50% 50% / cover no-repeat;\r\n}\r\n\r\n.cloudimage-360-reset-zoom-icon {\r\n  display: none;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-top: auto;\r\n  cursor: pointer;\r\n  background: url('https://scaleflex.cloudimg.io/v7/filerobot/js-cloudimage-360-view/ic-resize.svg?vh=248986') 50% 50% / cover no-repeat;\r\n}\r\n\r\n.cloudimage-360-close-fullscreen-icon {\r\n  width: 25px;\r\n  height: 25px;\r\n  cursor: pointer;\r\n  background: url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/cross.svg') 50% 50% / cover no-repeat;\r\n}\r\n\r\n.cloudimage-360-loader {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 0%;\r\n  height: 8px;\r\n  background-color: rgb(165,175,184);\r\n  z-index: 100;\r\n}\r\n\r\n.cloudimage-360-box-shadow {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 99;\r\n}\r\n\r\n.cloudimage-360-view-360-icon {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100px;\r\n  height: 100px;\r\n  margin: auto;\r\n  background-color: rgba(255,255,255,0.8);\r\n  border-radius: 50%;\r\n  box-shadow: rgb(255, 255, 255, 0.5) 0px 0px 4px;\r\n  transition: 0.5s all;\r\n  color: rgb(80,80,80);\r\n  text-align: center;\r\n  line-height: 100px;\r\n  z-index: 2;\r\n}\r\n\r\n.cloudimage-360-view-360-circle {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  width: 80%;\r\n  height: auto;\r\n  margin: auto;\r\n  transition: 0.5s all;\r\n  z-index: 2;\r\n}\r\n\r\n.cloudimage-360-fullscreen-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 999;\r\n  background-color: #FFF;\r\n}\r\n\r\n.cloudimage-360-img-magnifier-glass {\r\n  background-color: #FFF;\r\n  background-repeat: no-repeat;\r\n  position: absolute;\r\n  border: 3px solid #000;\r\n  border-radius: 50%;\r\n  cursor: wait;\r\n  line-height: 200px;\r\n  text-align: center;\r\n  z-index: 1000;\r\n  width: 250px;\r\n  height: 250px;\r\n  top: -75px;\r\n  right: -85px;\r\n}",""])},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(r).concat([o]).join("\n")}var s;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(n[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];null!=s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){var n,o,r={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=a.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),l=null,h=0,u=[],d=i(95);function f(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=r[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(I(n.parts[s],e))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(I(n.parts[s],e));r[n.id]={id:n.id,refs:1,parts:a}}}}function v(t,e){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(a):i.push(n[s]={id:s,parts:[a]})}return i}function m(t,e){var i=c(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),u.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(t.insertAt.before,i);i.insertBefore(e,o)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function I(t,e){var i,n,o,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var s=h++;i=l||(l=g(e)),n=x.bind(null,i,s,!1),o=x.bind(null,i,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),m(t,e),e}(e),n=O.bind(null,i,e),o=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(e),n=S.bind(null,i),o=function(){p(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=v(t,e);return f(i,e),function(t){for(var n=[],o=0;o<i.length;o++){var s=i[o];(a=r[s.id]).refs--,n.push(a)}t&&f(v(t,e),e);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete r[a.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function x(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function S(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function O(t,e,i){var n=i.css,o=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(n=d(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}}]);